<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>真牛英雄 | 区块链基础</title>
    <meta name="description" content="看啥看">
    
    
    <link rel="preload" href="/assets/css/36.styles.557faed4.css" as="style"><link rel="preload" href="/assets/js/app.8261995b.js" as="script"><link rel="preload" href="/assets/js/28.eed975fe.js" as="script"><link rel="prefetch" href="/assets/js/12.2dd19f95.js"><link rel="prefetch" href="/assets/js/0.2473a6f7.js"><link rel="prefetch" href="/assets/js/1.5ea79099.js"><link rel="prefetch" href="/assets/js/2.2b7f92b9.js"><link rel="prefetch" href="/assets/js/3.c35ac125.js"><link rel="prefetch" href="/assets/js/4.33745bd7.js"><link rel="prefetch" href="/assets/js/5.d9114106.js"><link rel="prefetch" href="/assets/js/6.9e328d79.js"><link rel="prefetch" href="/assets/js/7.5d3d1168.js"><link rel="prefetch" href="/assets/js/8.98d7c36f.js"><link rel="prefetch" href="/assets/js/9.575dad7c.js"><link rel="prefetch" href="/assets/js/10.052aa6a7.js"><link rel="prefetch" href="/assets/js/11.2bda47c3.js"><link rel="prefetch" href="/assets/js/13.ba47ffda.js"><link rel="prefetch" href="/assets/js/14.ef016eda.js"><link rel="prefetch" href="/assets/js/15.463b3f5a.js"><link rel="prefetch" href="/assets/js/16.92ba4283.js"><link rel="prefetch" href="/assets/js/17.0066a01b.js"><link rel="prefetch" href="/assets/js/18.faf31784.js"><link rel="prefetch" href="/assets/js/19.115165dc.js"><link rel="prefetch" href="/assets/js/20.8e4255e1.js"><link rel="prefetch" href="/assets/js/21.5bd4f746.js"><link rel="prefetch" href="/assets/js/22.7b518bea.js"><link rel="prefetch" href="/assets/js/23.48cf48d2.js"><link rel="prefetch" href="/assets/js/24.e80a0c2b.js"><link rel="prefetch" href="/assets/js/25.9620f9e6.js"><link rel="prefetch" href="/assets/js/26.c698f17b.js"><link rel="prefetch" href="/assets/js/27.f26b39ac.js"><link rel="prefetch" href="/assets/js/29.528313a0.js"><link rel="prefetch" href="/assets/js/30.b2c14d8a.js"><link rel="prefetch" href="/assets/js/31.0ded6227.js"><link rel="prefetch" href="/assets/js/32.d7376006.js"><link rel="prefetch" href="/assets/js/33.e735fef4.js"><link rel="prefetch" href="/assets/js/34.3ed1ff17.js"><link rel="prefetch" href="/assets/js/35.6d8f8c9b.js">
    <link rel="stylesheet" href="/assets/css/36.styles.557faed4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container blog-page"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      真牛英雄
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/blogs/coding/other/linux.html" class="nav-link">代码</a></div><div class="nav-item"><a href="/blogs/bodybuilding/tmf.html" class="nav-link">健身</a></div><div class="nav-item"><a href="/blogs/gameing/" class="nav-link">游戏</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/blogs/coding/other/linux.html" class="nav-link">代码</a></div><div class="nav-item"><a href="/blogs/bodybuilding/tmf.html" class="nav-link">健身</a></div><div class="nav-item"><a href="/blogs/gameing/" class="nav-link">游戏</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>区块链</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/blogs/coding/blockchain/blockchain-overview.html" class="active sidebar-link">区块链基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs/coding/blockchain/blockchain-overview.html#_1-什么是比特币" class="sidebar-link">1. 什么是比特币</a></li><li class="sidebar-sub-header"><a href="/blogs/coding/blockchain/blockchain-overview.html#_2-什么是区块链" class="sidebar-link">2. 什么是区块链</a></li><li class="sidebar-sub-header"><a href="/blogs/coding/blockchain/blockchain-overview.html#_3-比特币交易" class="sidebar-link">3. 比特币交易</a></li><li class="sidebar-sub-header"><a href="/blogs/coding/blockchain/blockchain-overview.html#_4-去中心化" class="sidebar-link">4. 去中心化</a></li><li class="sidebar-sub-header"><a href="/blogs/coding/blockchain/blockchain-overview.html#_5-挖矿" class="sidebar-link">5. 挖矿</a></li><li class="sidebar-sub-header"><a href="/blogs/coding/blockchain/blockchain-overview.html#_6-区块链2-0" class="sidebar-link">6. 区块链2.0</a></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>其他</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Http</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JavaScript学习</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>NodeJs学习</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS学习</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Vue源码学习</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>React学习</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>docker学习</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Java学习</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Spring学习</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="区块链基础"><a href="#区块链基础" aria-hidden="true" class="header-anchor">#</a> 区块链基础</h1><h2 id="_1-什么是比特币"><a href="#_1-什么是比特币" aria-hidden="true" class="header-anchor">#</a> 1. 什么是比特币</h2><p>它诞生于2009年1月3日，是一种点对点（P2P）传输的数字加密货币，总量 <em><strong>2100万枚</strong></em> 。比特币网络 <em><strong>每10分钟</strong></em> , 在21万个区块交易完成后，这笔奖金就会减半，预计在 <em><strong>2140年</strong></em> 达到极限。比特币被投资者称为“数字黄金”。比特币依据特定算法，通过大量的计算产生，不依靠特定货币机构发行，其使用整个P2P网络中众多节点构成的 <em><strong>分布式数据库</strong></em> 来确认并记录所有的交易行为，并使用密码学设计确保货币流通各个环节安全性，可确保无法通过大量制造比特币来人为操控币值。基于密码学的设计可以使比特币只能被真实拥有者转移、支付及兑现。同样确保了货币所有权与流通交易的匿名性。</p><ul><li>共识证明：POW</li><li>区块奖励：当前12.5BTC/区块（每产出21万个区块/约每四年减半一次，最近一次减半时间：2016年7月9日）
<ul><li>下一次减半时间: <em><strong>2020年5月4日</strong></em></li></ul></li><li>风险：扩容之争，存在潜在的分叉风险</li><li>货币单位：BTC/XBT
<ul><li>1       比特币（Bitcoins，BTC）</li><li>10−2      比特分（Bitcent，cBTC）</li><li>10−3      毫比特（Milli-Bitcoins，mBTC）</li><li>10−6      微比（Micro-Bitcoins，μBTC）</li><li>10−8     聪（Satoshi）</li></ul></li></ul><h2 id="_2-什么是区块链"><a href="#_2-什么是区块链" aria-hidden="true" class="header-anchor">#</a> 2. 什么是区块链</h2><ul><li>比特币赖以生存的一种技术</li><li>特殊的分布式数据库，主要用于储存信息，任何信息都可以在区块链中进行读写。</li><li>区块链没有管理员，实现了 <em><strong>去中心化</strong></em> ，它的设计目标就是防止出现居于中心地位的管理当局.</li></ul><h3 id="_2-1区块链的结构"><a href="#_2-1区块链的结构" aria-hidden="true" class="header-anchor">#</a> 2.1区块链的结构</h3><p><img src="/assets/img/proof-of-work.958879b4.svg" alt="区块"></p><ul><li><p>区块头</p><ul><li>区块生成时间</li><li>区块体的hash(<em><strong>默尔克树 Merkle 树</strong></em>)</li><li>上一个区块的hash</li></ul></li><li><p>区块体</p><ul><li>区块实际记录的信息</li></ul></li></ul><p><em><strong>Hash(上一个Hash值、随机数、记账时间、交易记录) = 456635BCD</strong></em></p><p><a href="https://www.blockchain.com/btc/block/00000000000000000013596730e20fb860b151e10142534eb0ce77032fcbab29" target="_blank" rel="noopener noreferrer">比特币浏览器上的一个区块</a></p><p><img src="/assets/img/btc-block.f92dd192.jpg" alt="区块"></p><h3 id="_2-2区块链的特性"><a href="#_2-2区块链的特性" aria-hidden="true" class="header-anchor">#</a> 2.2区块链的特性</h3><ul><li>[防篡改] 每当修改一个区块的任何信息. 会导致其Hash发生变化. 从到影响到后面所有的区块需要重新计算Hash值</li><li>[不可逆] 一旦写入便难以修改, 除非掌握全网51%的算力</li></ul><h2 id="_3-比特币交易"><a href="#_3-比特币交易" aria-hidden="true" class="header-anchor">#</a> 3. 比特币交易</h2><h3 id="比特币网络运作"><a href="#比特币网络运作" aria-hidden="true" class="header-anchor">#</a> 比特币网络运作</h3><ol><li>所有新的交易向所有节点广播；</li><li>每个节点将新交易打包到一个区块；</li><li>每个节点开始为此区块找一个具备难度的工作证明；</li><li>当某个区块找到其工作证明，它就要将此区块广播给所有节点；</li><li>众多其他节点当且只当以下条件满足才会接受这个区块：其中所有的交易都是有效的，且未被双重支付；</li><li>众多节点向网络表示自己接受这个区块的方法是，在创建下一个区块的时候，把被接受区块的哈希当作新区块之前的哈希。</li></ol><h3 id="账户"><a href="#账户" aria-hidden="true" class="header-anchor">#</a> 账户</h3><p><em><strong>比特币账户 = 地址 + 一对密钥</strong></em>
特币网络中的交易完全以区块链中记录的历史交易为准，
当我们有了一个账户的 <em><strong>全部历史交易记录</strong></em>，
那么这个账户的余额就可以算出来，
比特币就是利用历史交易记录来判断账户余额的</p><h3 id="交易"><a href="#交易" aria-hidden="true" class="header-anchor">#</a> 交易</h3><p>当你电脑要发出一笔交易时，这笔交易会自动的向比特币网络的其他节点广播，
当具有验证功能的节点接收到这笔交易时，
会对这笔交易进行验证，
而这个验证就是基于保存在其节点中的区块链的历史交易记录进行的，
这个验证会验证这笔交易的数字签名是否和原始交易内容一致、公钥是否对应付款方、付款方的余额是否足够等，
当这笔交易被验证为有效，那么这笔交易会被打包到区块中。
但是只有当包含这笔交易的区块被添加到区块链上后，这笔交易才会得到确认.</p><p>要通过在这个数字签名链的末尾附加上以下数字签名：上一笔交易的哈希，以及新所有者的公钥。收款人可以通过验证签名去验证数字签名链的所属权。</p><p><img src="/assets/img/transactions.7c95104e.svg" alt="交易"></p><h2 id="_4-去中心化"><a href="#_4-去中心化" aria-hidden="true" class="header-anchor">#</a> 4. 去中心化</h2><p>区块链的最大特点就是去中心化，而去中心化引发的最大问题就是“共识问题”，一个更具体的问题就是 <em><strong>双花问题(double spending)</strong></em></p><h3 id="双花问题"><a href="#双花问题" aria-hidden="true" class="header-anchor">#</a> 双花问题</h3><p>如果只有一台服务器, 交易一笔笔处理. 不会有双花问题.
但是为了有更大的处理能力, 往往存在多台服务器
如果有两台以上服务器, 在第一台服务器处理支付请求完成之前再次发起支付请求. 查询到的余额还是之前的余额. 任然可以发起一笔支付.
这里就产生了双花问题.</p><h3 id="分叉-最长链选择"><a href="#分叉-最长链选择" aria-hidden="true" class="header-anchor">#</a> 分叉, 最长链选择</h3><h4 id="分叉"><a href="#分叉" aria-hidden="true" class="header-anchor">#</a> 分叉</h4><p>随着全网算力不断地提升，比特币会通过调整这个额外工作的难度来把时间相对稳定在10分钟左右。
但是要注意的是，10分钟完成一次工作只是统计意义上的，不是绝对的，也就是说，10分钟内有可能有两个或两个以上的节点成功的完成了工作，并把其各自的区块添加到区块链上，在这种情况下，比特币网络允许那两个区块同时被添加，
即比特币网络同时承认这两个区块，那么这时区块链就出现了分叉.</p><h4 id="最长链选择"><a href="#最长链选择" aria-hidden="true" class="header-anchor">#</a> 最长链选择</h4><p>当一笔交易获得6个确认后(即这个区块后面又连上了5个区块), 就可以认为是最长链, 该区块上的交易就会被永久确认, 其他短链会被抛弃.</p><p><em><strong>所以, 比特币交易一次最长的确认时间要接近1个小时</strong></em></p><h2 id="_5-挖矿"><a href="#_5-挖矿" aria-hidden="true" class="header-anchor">#</a> 5. 挖矿</h2><p>在区块被添加到区块链上之前，还需要有一个额外的工作就是找到 <em><strong>一个随机数</strong></em>，只有找到了这个随机数，这个区块才能被成功的添加到区块链的末端，这个额外工作是比特币网络解决共识问题的关键，这个过程也叫做 <em><strong>挖矿</strong></em>。</p><div class="tip custom-block"><p class="custom-block-title">挖矿</p><p>按照约定，每个区块的第一笔交易是一个特殊的交易，它会生成一枚新的硬币，所属权是这个区块的生成者。这么做，使得节点支持网络有所奖励，也提供了一种将硬币发行到流通之中的方式</p></div><h3 id="pow-工作量证明"><a href="#pow-工作量证明" aria-hidden="true" class="header-anchor">#</a> PoW(工作量证明)</h3><h4 id="工作量证明"><a href="#工作量证明" aria-hidden="true" class="header-anchor">#</a> 工作量证明</h4><p>工作证明本质上来看，是“一个CPU一票”。所谓的“大多数决定”是由最长链所代表的，因为被投入最多工作的链就是它。如果大多数 CPU 算力被诚实的节点所控制，那么诚实链成长最为迅速，其速度会远超其他竞争链。为了更改一个已经产生的区块，攻击者将不得不重新完成那个区块以及所有其后区块的的工作证明，而后还要追上并超过诚实节点的工作。后文展示为什么一个被拖延了的攻击者能够追上的可能性将随着区块的不断增加而指数级降低。</p><h4 id="规则"><a href="#规则" aria-hidden="true" class="header-anchor">#</a> 规则</h4><ul><li>一段时间内（10分钟左右，具体时间会与密码学难题难度相互影响）只有一人可以记账成功</li><li>通过解决密码学难题（即工作量证明）竞争获得唯一记账权</li><li>其他节点复制记账结果</li></ul><h4 id="难度"><a href="#难度" aria-hidden="true" class="header-anchor">#</a> 难度</h4><p>为了保证10分钟左右只有一个人可以记账，就必须要提高记账的难度，使得Hash的结果必须以若干个0开头。同是为了满足这个条件，在进行Hash时引入一个随机数变量</p><h4 id="验证"><a href="#验证" aria-hidden="true" class="header-anchor">#</a> 验证</h4><p>在节点成功找到满足的Hash值之后，会马上对全网进行广播打包区块，网络的节点收到广播打包区块，会立刻对其进行验证。
如果验证通过，则表明已经有节点成功解迷，自己就不再竞争当前区块打包，而是选择接受这个区块，记录到自己的账本中，然后进行下一个区块的竞争猜谜。
网络中只有最快解谜的区块，才会添加的账本中，其他的节点进行复制，这样就保证了整个账本的唯一性。</p><h3 id="挖矿的中心化"><a href="#挖矿的中心化" aria-hidden="true" class="header-anchor">#</a> 挖矿的中心化</h3><p>币挖矿算法基本上是让矿工千万次地轻微改动区块头，直到最终某个节点的
改动版本的哈希小于目标值（目前是大约 2190）。然而，这种挖矿算法容易被
两种形式的中心化攻击。</p><ul><li>挖矿生态系统被专门设计的因而在比特币挖矿这一特殊任务上效率提高上千倍的 ASICs（专用集成电路）和电脑芯片控制-----也就是矿机</li><li>大部分比特币矿工事实上不再在本地完成区块验证；而是依赖中心化的矿池提供区块头。</li></ul><h4 id="如何做到去中心化"><a href="#如何做到去中心化" aria-hidden="true" class="header-anchor">#</a><code></code><code>如何做到去中心化?</code><code></code></h4><h2 id="_6-区块链2-0"><a href="#_6-区块链2-0" aria-hidden="true" class="header-anchor">#</a> 6. 区块链2.0</h2><h3 id="_6-1-区块链1-0的缺点"><a href="#_6-1-区块链1-0的缺点" aria-hidden="true" class="header-anchor">#</a> 6.1 区块链1.0的缺点</h3><ul><li>交易速度极慢, 无法当成交易工具, 只能做为投资</li><li>需要浪费大量的计算力去保证网络的安全性</li><li>同时每一个区块会有大量的无用算力</li><li>目前只为比特币服务</li><li>无扩展性</li></ul><h3 id="_6-2-区块链2-0"><a href="#_6-2-区块链2-0" aria-hidden="true" class="header-anchor">#</a> 6.2 区块链2.0</h3><p>为了弥补比特币区块链设计上的不足, Vitalik Buterin(V神)他在2013年发布了一份白皮书，描述了为任何类型的分散应用程序开发人员想要构建的替代平台。该系统被称为以太坊</p><p>与比特币的不同</p><ul><li>可以动态调整难度, 产生新区块的速度大约为15秒(会逐渐增加)</li><li>在最长链选择之后产生的孤块被称为'叔块'(uncle block), 同样能产生奖励</li><li>矿工收入还有燃料费(Gas)</li><li>通过智能合约, 引入Token标准(ERC20 Token)在以太坊发行各种代币(2018年区块链元年, 各种ICO的原因)</li><li>拥有以太坊虚拟机 EVM, 图灵完备. 意味着可以在以太坊中创建任何类型的应用</li></ul></div><!----><div class="content page-nav"><p class="inner"><!----><span class="next"><a href="/blogs/coding/other/linux.html">
          linux常用指令
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/28.eed975fe.js" defer></script><script src="/assets/js/app.8261995b.js" defer></script>
  </body>
</html>
